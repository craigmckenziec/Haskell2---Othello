<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"><html xmlns="http://www.w3.org/1999/xhtml"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" /><title>AI</title><link href="ocean.css" rel="stylesheet" type="text/css" title="Ocean" /><link rel="stylesheet" type="text/css" href="quick-jump.css" /><script src="haddock-bundle.min.js" async="async" type="text/javascript"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.0/MathJax.js?config=TeX-AMS-MML_HTMLorMML" type="text/javascript"></script></head><body><div id="package-header"><ul class="links" id="page-menu"><li><a href="index.html">Contents</a></li><li><a href="doc-index.html">Index</a></li></ul><p class="caption empty">&nbsp;</p></div><div id="content"><div id="module-header"><table class="info"><tr><th>Safe Haskell</th><td>None</td></tr></table><p class="caption">AI</p></div><div id="description"><p class="caption">Description</p><div class="doc empty">&nbsp;</div></div><div id="synopsis"><details id="syn"><summary>Synopsis</summary><ul class="details-toggle" data-details-id="syn"><li class="src short"><span class="keyword">data</span> <a href="#t:GameTree">GameTree</a> = <a href="#v:GameTree">GameTree</a> {<ul class="subs"><li><a href="#v:game_board">game_board</a> :: <a href="Board.html#t:Board" title="Board">Board</a></li><li><a href="#v:game_turn">game_turn</a> :: <a href="Board.html#t:Col" title="Board">Col</a></li><li><a href="#v:next_moves">next_moves</a> :: [(<a href="Board.html#t:Position" title="Board">Position</a>, <a href="AI.html#t:GameTree" title="AI">GameTree</a>)]</li></ul>}</li><li class="src short"><a href="#v:trace-39-">trace'</a> :: Show b =&gt; b -&gt; b</li><li class="src short"><a href="#v:buildTree">buildTree</a> :: (<a href="Board.html#t:Board" title="Board">Board</a> -&gt; <a href="Board.html#t:Col" title="Board">Col</a> -&gt; [<a href="Board.html#t:Position" title="Board">Position</a>]) -&gt; <a href="Board.html#t:Board" title="Board">Board</a> -&gt; <a href="Board.html#t:Col" title="Board">Col</a> -&gt; <a href="AI.html#t:GameTree" title="AI">GameTree</a></li><li class="src short"><a href="#v:getBestMoveAdvanced">getBestMoveAdvanced</a> :: <a href="Board.html#t:Board" title="Board">Board</a> -&gt; <a href="Board.html#t:Col" title="Board">Col</a> -&gt; <a href="Board.html#t:Position" title="Board">Position</a></li><li class="src short"><a href="#v:getMax">getMax</a> :: [Int] -&gt; Int</li><li class="src short"><a href="#v:getMin">getMin</a> :: [Int] -&gt; Int</li><li class="src short"><a href="#v:evaluateTree">evaluateTree</a> :: <a href="AI.html#t:GameTree" title="AI">GameTree</a> -&gt; <a href="Board.html#t:Position" title="Board">Position</a></li><li class="src short"><a href="#v:lookAheadOne">lookAheadOne</a> :: Int -&gt; [(<a href="Board.html#t:Position" title="Board">Position</a>, <a href="AI.html#t:GameTree" title="AI">GameTree</a>)] -&gt; <a href="Board.html#t:Col" title="Board">Col</a> -&gt; [(Int, <a href="Board.html#t:Position" title="Board">Position</a>)]</li><li class="src short"><a href="#v:exploreBranch">exploreBranch</a> :: Int -&gt; <a href="AI.html#t:GameTree" title="AI">GameTree</a> -&gt; <a href="Board.html#t:Col" title="Board">Col</a> -&gt; <a href="Board.html#t:Col" title="Board">Col</a> -&gt; Int</li><li class="src short"><a href="#v:evaluateLeaf">evaluateLeaf</a> :: <a href="Board.html#t:Board" title="Board">Board</a> -&gt; <a href="Board.html#t:Col" title="Board">Col</a> -&gt; Int</li><li class="src short"><a href="#v:makeFullBranch">makeFullBranch</a> :: Int -&gt; [(<a href="Board.html#t:Position" title="Board">Position</a>, <a href="AI.html#t:GameTree" title="AI">GameTree</a>)] -&gt; <a href="Board.html#t:Col" title="Board">Col</a> -&gt; <a href="Board.html#t:Col" title="Board">Col</a> -&gt; [Int]</li><li class="src short"><a href="#v:evaluateMoves">evaluateMoves</a> :: <a href="Board.html#t:Col" title="Board">Col</a> -&gt; <a href="Board.html#t:Board" title="Board">Board</a> -&gt; [<a href="Board.html#t:Position" title="Board">Position</a>] -&gt; <a href="Board.html#t:Position" title="Board">Position</a> -&gt; Int -&gt; <a href="Board.html#t:Position" title="Board">Position</a></li><li class="src short"><a href="#v:getPossible">getPossible</a> :: <a href="Board.html#t:Board" title="Board">Board</a> -&gt; <a href="Board.html#t:Col" title="Board">Col</a> -&gt; [<a href="Board.html#t:Position" title="Board">Position</a>]</li><li class="src short"><a href="#v:isValid">isValid</a> :: <a href="Board.html#t:Board" title="Board">Board</a> -&gt; <a href="Board.html#t:Position" title="Board">Position</a> -&gt; <a href="Board.html#t:Col" title="Board">Col</a> -&gt; Bool</li><li class="src short"><a href="#v:getBestMoveOneDepth">getBestMoveOneDepth</a> :: <a href="Board.html#t:Board" title="Board">Board</a> -&gt; <a href="Board.html#t:Col" title="Board">Col</a> -&gt; <a href="Board.html#t:Position" title="Board">Position</a></li><li class="src short"><a href="#v:getRandomMove">getRandomMove</a> :: <a href="Board.html#t:Board" title="Board">Board</a> -&gt; <a href="Board.html#t:Col" title="Board">Col</a> -&gt; IO <a href="Board.html#t:Position" title="Board">Position</a></li><li class="src short"><a href="#v:chooseRandom">chooseRandom</a> :: [a] -&gt; IO a</li><li class="src short"><a href="#v:getBestReversiInitialMove">getBestReversiInitialMove</a> :: <a href="Board.html#t:Board" title="Board">Board</a> -&gt; <a href="Board.html#t:Col" title="Board">Col</a> -&gt; <a href="Board.html#t:Position" title="Board">Position</a></li></ul></details></div><div id="interface"><h1>Documentation</h1><div class="top"><p class="src"><span class="keyword">data</span> <a id="t:GameTree" class="def">GameTree</a> <a href="#t:GameTree" class="selflink">#</a></p><div class="doc"><p>Datatype representing a single leaf of the a game tree</p></div><div class="subs constructors"><p class="caption">Constructors</p><table><tr><td class="src"><a id="v:GameTree" class="def">GameTree</a></td><td class="doc"><p>List of next moves that could be made at this point aswell as the resultant GameTrees from these moves</p></td></tr><tr><td colspan="2"><div class="subs fields"><p class="caption">Fields</p><ul><li><dfn class="src"><a id="v:game_board" class="def">game_board</a> :: <a href="Board.html#t:Board" title="Board">Board</a></dfn><div class="doc"><p>Board resultant from this nodes move</p></div></li><li><dfn class="src"><a id="v:game_turn" class="def">game_turn</a> :: <a href="Board.html#t:Col" title="Board">Col</a></dfn><div class="doc"><p>Who's turn it is at this point in the tree</p></div></li><li><dfn class="src"><a id="v:next_moves" class="def">next_moves</a> :: [(<a href="Board.html#t:Position" title="Board">Position</a>, <a href="AI.html#t:GameTree" title="AI">GameTree</a>)]</dfn><div class="doc empty">&nbsp;</div></li></ul></div></td></tr></table></div></div><div class="top"><p class="src"><a id="v:trace-39-" class="def">trace'</a> :: Show b =&gt; b -&gt; b <a href="#v:trace-39-" class="selflink">#</a></p><div class="doc"><p>Used during bugfixing in order to check the value of variables or function returns</p></div></div><div class="top"><p class="src"><a id="v:buildTree" class="def">buildTree</a> <a href="#v:buildTree" class="selflink">#</a></p><div class="subs arguments"><p class="caption">Arguments</p><table><tr><td class="src">:: (<a href="Board.html#t:Board" title="Board">Board</a> -&gt; <a href="Board.html#t:Col" title="Board">Col</a> -&gt; [<a href="Board.html#t:Position" title="Board">Position</a>])</td><td class="doc"><p>Move generator</p></td></tr><tr><td class="src">-&gt; <a href="Board.html#t:Board" title="Board">Board</a></td><td class="doc"><p>board state</p></td></tr><tr><td class="src">-&gt; <a href="Board.html#t:Col" title="Board">Col</a></td><td class="doc"><p>player to play next</p></td></tr><tr><td class="src">-&gt; <a href="AI.html#t:GameTree" title="AI">GameTree</a></td><td class="doc"><p>GameTree that is built of possible moves</p></td></tr></table></div><div class="doc"><p>Builds a tree of possible moves and their subsequent possible moves until an end game state is reached (i.e. the game is finished)</p></div></div><div class="top"><p class="src"><a id="v:getBestMoveAdvanced" class="def">getBestMoveAdvanced</a> :: <a href="Board.html#t:Board" title="Board">Board</a> -&gt; <a href="Board.html#t:Col" title="Board">Col</a> -&gt; <a href="Board.html#t:Position" title="Board">Position</a> <a href="#v:getBestMoveAdvanced" class="selflink">#</a></p><div class="doc"><p>Overarching call that gets the best possible move according to the Advanced AI</p></div></div><div class="top"><p class="src"><a id="v:getMax" class="def">getMax</a> :: [Int] -&gt; Int <a href="#v:getMax" class="selflink">#</a></p><div class="doc"><p>Get the largest score from the list of moves, including a safe case of empty</p></div></div><div class="top"><p class="src"><a id="v:getMin" class="def">getMin</a> :: [Int] -&gt; Int <a href="#v:getMin" class="selflink">#</a></p><div class="doc"><p>Get the lowest score from the list of moves, including a safe case of empty</p></div></div><div class="top"><p class="src"><a id="v:evaluateTree" class="def">evaluateTree</a> <a href="#v:evaluateTree" class="selflink">#</a></p><div class="subs arguments"><p class="caption">Arguments</p><table><tr><td class="src">:: <a href="AI.html#t:GameTree" title="AI">GameTree</a></td><td class="doc"><p>The GameTree to be investigated </p></td></tr><tr><td class="src">-&gt; <a href="Board.html#t:Position" title="Board">Position</a></td><td class="doc"><p>The &quot;best&quot; move</p></td></tr></table></div><div class="doc"><p>Search through the tree to a given depth and find the best move that can be made</p></div></div><div class="top"><p class="src"><a id="v:lookAheadOne" class="def">lookAheadOne</a> <a href="#v:lookAheadOne" class="selflink">#</a></p><div class="subs arguments"><p class="caption">Arguments</p><table><tr><td class="src">:: Int</td><td class="doc"><p>Current depth (0 is max)</p></td></tr><tr><td class="src">-&gt; [(<a href="Board.html#t:Position" title="Board">Position</a>, <a href="AI.html#t:GameTree" title="AI">GameTree</a>)]</td><td class="doc"><p>List representing Position-Tree pairs to be investigated</p></td></tr><tr><td class="src">-&gt; <a href="Board.html#t:Col" title="Board">Col</a></td><td class="doc"><p>Current player</p></td></tr><tr><td class="src">-&gt; [(Int, <a href="Board.html#t:Position" title="Board">Position</a>)]</td><td class="doc"><p>Int Position pairs representing the possible moves given scores</p></td></tr></table></div><div class="doc"><p>Looks ahead one position in the tree and build the list of moves that can be made along with their score according to the AI</p></div></div><div class="top"><p class="src"><a id="v:exploreBranch" class="def">exploreBranch</a> <a href="#v:exploreBranch" class="selflink">#</a></p><div class="subs arguments"><p class="caption">Arguments</p><table><tr><td class="src">:: Int</td><td class="doc"><p>Current depth</p></td></tr><tr><td class="src">-&gt; <a href="AI.html#t:GameTree" title="AI">GameTree</a></td><td class="doc"><p>Current Tree/Branch being investigated</p></td></tr><tr><td class="src">-&gt; <a href="Board.html#t:Col" title="Board">Col</a></td><td class="doc"><p>Colour of the AI player</p></td></tr><tr><td class="src">-&gt; <a href="Board.html#t:Col" title="Board">Col</a></td><td class="doc"><p>Colour of the current player</p></td></tr><tr><td class="src">-&gt; Int</td><td class="doc"><p>Score of a given board state</p></td></tr></table></div><div class="doc"><p>Explore a given branch of the tree to find what moves give the best results for the AI and the worst results for the other player </p></div></div><div class="top"><p class="src"><a id="v:evaluateLeaf" class="def">evaluateLeaf</a> <a href="#v:evaluateLeaf" class="selflink">#</a></p><div class="subs arguments"><p class="caption">Arguments</p><table><tr><td class="src">:: <a href="Board.html#t:Board" title="Board">Board</a></td><td class="doc"><p>Board state being investigated</p></td></tr><tr><td class="src">-&gt; <a href="Board.html#t:Col" title="Board">Col</a></td><td class="doc"><p>Colour of the AI</p></td></tr><tr><td class="src">-&gt; Int</td><td class="doc"><p>Score assigned to this board by the AI (how good it is for the AI)</p></td></tr></table></div><div class="doc"><p>Builds a score for a given board state according to the strategies given by <a href="http://radagast.se/othello/Help/strategy.html">http://radagast.se/othello/Help/strategy.html</a></p></div></div><div class="top"><p class="src"><a id="v:makeFullBranch" class="def">makeFullBranch</a> <a href="#v:makeFullBranch" class="selflink">#</a></p><div class="subs arguments"><p class="caption">Arguments</p><table><tr><td class="src">:: Int</td><td class="doc"><p>The current depth</p></td></tr><tr><td class="src">-&gt; [(<a href="Board.html#t:Position" title="Board">Position</a>, <a href="AI.html#t:GameTree" title="AI">GameTree</a>)]</td><td class="doc"><p>list of Position-Tree pair representing the potential moves that can be made and their resultant possibilities</p></td></tr><tr><td class="src">-&gt; <a href="Board.html#t:Col" title="Board">Col</a></td><td class="doc"><p>Colour of the AIPlayer</p></td></tr><tr><td class="src">-&gt; <a href="Board.html#t:Col" title="Board">Col</a></td><td class="doc"><p>Colour of the current player</p></td></tr><tr><td class="src">-&gt; [Int]</td><td class="doc"><p>List of integers representing the scores of the respective paths</p></td></tr></table></div><div class="doc"><p>Take a given branch, put the first layer of it back through to the exploreBranch method, which will loop back to this method until the maximum depth is reached and the score of a given board state at the end of the chain is found</p></div></div><div class="top"><p class="src"><a id="v:evaluateMoves" class="def">evaluateMoves</a> <a href="#v:evaluateMoves" class="selflink">#</a></p><div class="subs arguments"><p class="caption">Arguments</p><table><tr><td class="src">:: <a href="Board.html#t:Col" title="Board">Col</a></td><td class="doc"><p>The colour of the current AI</p></td></tr><tr><td class="src">-&gt; <a href="Board.html#t:Board" title="Board">Board</a></td><td class="doc"><p>Current board state</p></td></tr><tr><td class="src">-&gt; [<a href="Board.html#t:Position" title="Board">Position</a>]</td><td class="doc"><p>The list of valid moves the AI could make</p></td></tr><tr><td class="src">-&gt; <a href="Board.html#t:Position" title="Board">Position</a></td><td class="doc"><p>The current best move</p></td></tr><tr><td class="src">-&gt; Int</td><td class="doc"><p>The evaluation score of the current best move</p></td></tr><tr><td class="src">-&gt; <a href="Board.html#t:Position" title="Board">Position</a></td><td class="doc"><p>The best move according to this version of the AI</p></td></tr></table></div><div class="doc"><p>Loops through each given possible move to find what move is regarded as the &quot;best&quot; and then returns said move after the best move has been found by reaching the end of the list.</p></div></div><div class="top"><p class="src"><a id="v:getPossible" class="def">getPossible</a> <a href="#v:getPossible" class="selflink">#</a></p><div class="subs arguments"><p class="caption">Arguments</p><table><tr><td class="src">:: <a href="Board.html#t:Board" title="Board">Board</a></td><td class="doc"><p>The colour of the current player</p></td></tr><tr><td class="src">-&gt; <a href="Board.html#t:Col" title="Board">Col</a></td><td class="doc"><p>Current board state</p></td></tr><tr><td class="src">-&gt; [<a href="Board.html#t:Position" title="Board">Position</a>]</td><td class="doc"><p>List of possible moves</p></td></tr></table></div><div class="doc"><p>Finds all possible moves that the current player could do</p></div></div><div class="top"><p class="src"><a id="v:isValid" class="def">isValid</a> <a href="#v:isValid" class="selflink">#</a></p><div class="subs arguments"><p class="caption">Arguments</p><table><tr><td class="src">:: <a href="Board.html#t:Board" title="Board">Board</a></td><td class="doc"><p>Current board state</p></td></tr><tr><td class="src">-&gt; <a href="Board.html#t:Position" title="Board">Position</a></td><td class="doc"><p>Move to be investigated</p></td></tr><tr><td class="src">-&gt; <a href="Board.html#t:Col" title="Board">Col</a></td><td class="doc"><p>Colour of the current player</p></td></tr><tr><td class="src">-&gt; Bool</td><td class="doc"><p>Bool represnting whether or not the move is valid </p></td></tr></table></div><div class="doc"><p>Checks if a given move is valid or not for the current player (is on an empty place and successfully flips a piece)</p></div></div><div class="top"><p class="src"><a id="v:getBestMoveOneDepth" class="def">getBestMoveOneDepth</a> <a href="#v:getBestMoveOneDepth" class="selflink">#</a></p><div class="subs arguments"><p class="caption">Arguments</p><table><tr><td class="src">:: <a href="Board.html#t:Board" title="Board">Board</a></td><td class="doc"><p>Current board state</p></td></tr><tr><td class="src">-&gt; <a href="Board.html#t:Col" title="Board">Col</a></td><td class="doc"><p>Current player colour</p></td></tr><tr><td class="src">-&gt; <a href="Board.html#t:Position" title="Board">Position</a></td><td class="doc"><p>What the AI believes to be the best move</p></td></tr></table></div><div class="doc"><p>Returns the best move according to the one depth AI</p></div></div><div class="top"><p class="src"><a id="v:getRandomMove" class="def">getRandomMove</a> <a href="#v:getRandomMove" class="selflink">#</a></p><div class="subs arguments"><p class="caption">Arguments</p><table><tr><td class="src">:: <a href="Board.html#t:Board" title="Board">Board</a></td><td class="doc"><p>Current board state</p></td></tr><tr><td class="src">-&gt; <a href="Board.html#t:Col" title="Board">Col</a></td><td class="doc"><p>Current player colour</p></td></tr><tr><td class="src">-&gt; IO <a href="Board.html#t:Position" title="Board">Position</a></td><td class="doc"><p>Random move (must be IO due to random usage but is cleared in method one level higher)</p></td></tr></table></div><div class="doc"><p>Returns a random move</p></div></div><div class="top"><p class="src"><a id="v:chooseRandom" class="def">chooseRandom</a> <a href="#v:chooseRandom" class="selflink">#</a></p><div class="subs arguments"><p class="caption">Arguments</p><table><tr><td class="src">:: [a]</td><td class="doc"><p>List to get random value from</p></td></tr><tr><td class="src">-&gt; IO a</td><td class="doc"><p>Returns random value from list</p></td></tr></table></div><div class="doc"><p>Takes a list of elements and returns one at random</p></div></div><div class="top"><p class="src"><a id="v:getBestReversiInitialMove" class="def">getBestReversiInitialMove</a> <a href="#v:getBestReversiInitialMove" class="selflink">#</a></p><div class="subs arguments"><p class="caption">Arguments</p><table><tr><td class="src">:: <a href="Board.html#t:Board" title="Board">Board</a></td><td class="doc"><p>Current board state</p></td></tr><tr><td class="src">-&gt; <a href="Board.html#t:Col" title="Board">Col</a></td><td class="doc"><p>Current player colour</p></td></tr><tr><td class="src">-&gt; <a href="Board.html#t:Position" title="Board">Position</a></td><td class="doc"><p>Best initial placement </p></td></tr></table></div><div class="doc"><p>Gets the best initial move for reversi placement (according to the AI)</p></div></div></div></div><div id="footer"><p>Produced by <a href="http://www.haskell.org/haddock/">Haddock</a> version 2.22.0</p></div></body></html>